<!-- Mini Game Section -->
    <section class="game-section" id="minigame-wrapper">
        <div class="game-container">
            <h3 class="game-title">üéÆ PIXEL SORTING CHALLENGE üéÆ</h3>
            <p style="font-family: 'Courier New', monospace; color: #2d5a3d;">Drag the waste item to the correct recycling bin!</p>
            
            <div class="pixel-game-box">
                <!-- Game UI -->
                <div class="game-ui">
                    <div class="score-display">
                        SCORE: <span id="game-score">0</span>
                    </div>
                    <div class="lives-display">
                        LIVES: <div class="pixel-hearts" id="pixel-hearts">
                            <div class="pixel-heart"></div>
                            <div class="pixel-heart"></div>
                            <div class="pixel-heart"></div>
                        </div>
                    </div>
                </div>

                <!-- Audio Controls -->
                <div class="game-audio-controls">
                    <button class="audio-toggle" id="audioToggle" onclick="toggleGameMusic()">
                        üîä
                    </button>
                </div>

                <!-- Game Background Elements -->
                <div class="pixel-clouds"></div>
                <div class="pixel-star">‚≠ê</div>
                <div class="pixel-potion">üß™</div>
                
                <!-- Game Item Container -->
                <div id="item-container">
                    <!-- Draggable item will be inserted here -->
                </div>

                <!-- Drop Zones -->
                <div class="drop-zones-container">
                    <div class="pixel-bin anorganik" id="anorganik-zone" data-type="anorganik">
                        <div class="bin-label">Plastic</div>
                    </div>
                    <div class="pixel-bin organik" id="organik-zone" data-type="organik">
                        <div class="bin-label">Organic</div>
                    </div>
                    <div class="pixel-bin kaca" id="kaca-zone" data-type="kaca">
                        <div class="bin-label">Glass</div>
                    </div>
                </div>

                <!-- Ground -->
                <div class="pixel-ground"></div>
            </div>
        </div>

        <!-- Hidden Audio Elements -->
        <audio id="gameMusic" loop>
            <source src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmISBj2P2fDEeScEK4TO8dGINhMZZ7zr46ZNEQ1Sque7tW0Ge5Lc8tjzxSILJXTH8N2QQAoUXrTp66hVFApGn+DyvmISBj2P2fDEeSMEJYPI8d6PSkUTXbXo46hVEQpJpODgtmIcBzmR1+PftWIaEj6a3/DEeScEK4TO8tyJOAcZZ7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5didEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5didEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5didEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5didEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5didEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5didEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5didEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5tidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+DfvmEZEj+W3+u5cidEKI3c8dyKOgcZa7zp56hWEApHoODgumEaBzqU2+Dfvm<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoTrack AI - Smart Waste Management</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <i class="fas fa-leaf"></i>
                EcoTrack AI
            </div>
            <ul class="nav-menu">
                <li><a href="#home">Home</a></li>
                <li><a href="#features">Features</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
            <a href="#analyze" class="cta-button">Start Analysis</a>
        </div>
    </nav>

    <!-- Language Selector -->
    <div class="lang-selector">
        <button id="lang-id" class="lang-btn active">ID</button>
        <button id="lang-en" class="lang-btn">EN</button>
    </div>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="hero-container">
            <div class="hero-content">
                <div class="hero-subtitle">SMART ENVIRONMENT</div>
                <h1 class="hero-title" id="pageTitle">AI-Powered Waste Recognition</h1>
                <p class="hero-description" id="heroDescription">
                    Transform your waste management with intelligent AI technology. Upload, analyze, and get instant recycling instructions for a sustainable future.
                </p>
                <div class="hero-buttons">
                    <button class="btn-primary" onclick="scrollToSection('analyze')">Start Now</button>
                    <button class="btn-secondary">Learn More</button>
                </div>
            </div>
            <div class="hero-visual">
                <div class="plant-container">
                    <div class="plant-visual">üå±</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Upload Section -->
    <section id="analyze" class="upload-section">
        <div class="upload-container">
            <h2 class="section-title" id="uploadTitle">Analyze Your Waste</h2>
            <p class="section-subtitle" id="uploadSubtitle">Upload an image of your waste item and get instant recycling instructions</p>
            
            <div class="upload-area" onclick="document.getElementById('imageUpload').click()">
                <div class="upload-icon">
                    <i class="fas fa-cloud-upload-alt"></i>
                </div>
                <div class="upload-text" id="uploadText">Click to upload or drag & drop</div>
                <div class="upload-subtext" id="uploadSubtext">Supports JPG, PNG, GIF up to 10MB</div>
                <input type="file" id="imageUpload" accept="image/*">
            </div>

            <div class="preview-container">
                <img id="preview" src="" alt="Preview">
            </div>

            <button id="analyzeBtn" class="analyze-button">
                <span id="analyzeText">Analyze Waste</span>
            </button>
        </div>
    </section>

    <!-- Results Section -->
    <section class="results-section" id="result">
        <div class="results-container">
            <div class="result-card">
                <div class="result-icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                <h3 class="result-title" id="analysisResultTitle">Analysis Result</h3>
                <div class="result-info">
                    <div class="info-card">
                        <div class="info-label" id="resultObjectLabel">Detected Object:</div>
                        <div class="info-value" id="objectNameDisplay">-</div>
                    </div>
                    <div class="info-card">
                        <div class="info-label" id="resultInstructionsLabel">Recycling Instructions:</div>
                        <div class="info-value" id="instructionsDisplay">-</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Mini Game Section -->
    <section class="game-section" id="minigame-wrapper">
        <div class="game-container">
            <h3 class="game-title">Sorting Challenge</h3>
            <p>Drag the item to the correct recycling bin!</p>
            
            <div id="item-container">
                <!-- Draggable item will be inserted here -->
            </div>

            <div class="drop-zones-container">
                <div class="drop-zone" id="anorganik-zone">
                    <i class="fas fa-bottle-water" style="font-size: 2rem; color: #e74c3c; margin-bottom: 1rem;"></i>
                    <strong>Anorganik</strong>
                    <small>Plastic, Metal</small>
                </div>
                <div class="drop-zone" id="organik-zone">
                    <i class="fas fa-seedling" style="font-size: 2rem; color: #27ae60; margin-bottom: 1rem;"></i>
                    <strong>Organik</strong>
                    <small>Food, Paper</small>
                </div>
                <div class="drop-zone" id="kaca-zone">
                    <i class="fas fa-wine-bottle" style="font-size: 2rem; color: #3498db; margin-bottom: 1rem;"></i>
                    <strong>Kaca</strong>
                    <small>Glass</small>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="features-section">
        <div class="features-container">
            <h2 class="section-title">Why Choose EcoTrack AI?</h2>
            <p class="section-subtitle">Advanced features for sustainable waste management</p>
            
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-brain"></i>
                    </div>
                    <h3 class="feature-title">AI Recognition</h3>
                    <p class="feature-description">Advanced machine learning algorithms instantly identify waste types with 95% accuracy</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-recycle"></i>
                    </div>
                    <h3 class="feature-title">Smart Instructions</h3>
                    <p class="feature-description">Get personalized recycling instructions based on your local waste management guidelines</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-gamepad"></i>
                    </div>
                    <h3 class="feature-title">Interactive Learning</h3>
                    <p class="feature-description">Gamified experience helps you learn proper waste sorting through engaging mini-games</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Success Popup -->
    <div id="success-popup" class="popup-container">
        <div class="popup-content">
            <span class="close-btn">&times;</span>
            <div style="font-size: 3rem; color: #4CAF50; margin-bottom: 1rem;">
                <i class="fas fa-check-circle"></i>
            </div>
            <h3>Congratulations!</h3>
            <p>You successfully recycled the item correctly!</p>
        </div>
    </div>

    <script>
        let currentLang = 'id';
        let draggedItem = null;

        // Language switching functionality
        const translations = {
            'id': {
                pageTitle: 'Pengenalan Sampah Bertenaga AI',
                heroDescription: 'Transformasi manajemen sampah Anda dengan teknologi AI cerdas. Unggah, analisis, dan dapatkan instruksi daur ulang instan untuk masa depan yang berkelanjutan.',
                uploadTitle: 'Analisis Sampah Anda',
                uploadSubtitle: 'Unggah gambar item sampah Anda dan dapatkan instruksi daur ulang instan',
                uploadText: 'Klik untuk mengunggah atau seret & lepas',
                uploadSubtext: 'Mendukung JPG, PNG, GIF hingga 10MB',
                analyzeText: 'Analisis Sampah',
                analysisResultTitle: 'Hasil Analisis',
                resultObjectLabel: 'Objek Terdeteksi:',
                resultInstructionsLabel: 'Instruksi Daur Ulang:',
                alert_message: 'Silakan pilih gambar terlebih dahulu!',
                analyzing_message: 'Menganalisis...',
                error_message: 'Terjadi kesalahan saat menganalisis gambar.'
            },
            'en': {
                pageTitle: 'AI-Powered Waste Recognition',
                heroDescription: 'Transform your waste management with intelligent AI technology. Upload, analyze, and get instant recycling instructions for a sustainable future.',
                uploadTitle: 'Analyze Your Waste',
                uploadSubtitle: 'Upload an image of your waste item and get instant recycling instructions',
                uploadText: 'Click to upload or drag & drop',
                uploadSubtext: 'Supports JPG, PNG, GIF up to 10MB',
                analyzeText: 'Analyze Waste',
                analysisResultTitle: 'Analysis Result',
                resultObjectLabel: 'Detected Object:',
                resultInstructionsLabel: 'Recycling Instructions:',
                alert_message: 'Please select an image first!',
                analyzing_message: 'Analyzing...',
                error_message: 'An error occurred while analyzing the image.'
            }
        };

        function loadTranslations(lang) {
            currentLang = lang;
            const t = translations[lang];
            
            document.getElementById('pageTitle').textContent = t.pageTitle;
            document.getElementById('heroDescription').textContent = t.heroDescription;
            document.getElementById('uploadTitle').textContent = t.uploadTitle;
            document.getElementById('uploadSubtitle').textContent = t.uploadSubtitle;
            document.getElementById('uploadText').textContent = t.uploadText;
            document.getElementById('uploadSubtext').textContent = t.uploadSubtext;
            document.getElementById('analyzeText').textContent = t.analyzeText;
            document.getElementById('analysisResultTitle').textContent = t.analysisResultTitle;
            document.getElementById('resultObjectLabel').textContent = t.resultObjectLabel;
            document.getElementById('resultInstructionsLabel').textContent = t.resultInstructionsLabel;

            // Update active language button
            document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById(`lang-${lang}`).classList.add('active');
        }

        // Event listeners
        document.getElementById('lang-en').addEventListener('click', () => loadTranslations('en'));
        document.getElementById('lang-id').addEventListener('click', () => loadTranslations('id'));

        // Image upload functionality
        const imageUpload = document.getElementById('imageUpload');
        const preview = document.getElementById('preview');
        const analyzeBtn = document.getElementById('analyzeBtn');
        const objectNameDisplay = document.getElementById('objectNameDisplay');
        const instructionsDisplay = document.getElementById('instructionsDisplay');

        imageUpload.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    preview.src = e.target.result;
                    preview.style.display = 'block';
                    analyzeBtn.style.display = 'block';
                };
                reader.readAsDataURL(file);
            }
        });

        // Mock analysis function (replace with actual API call)
        analyzeBtn.addEventListener('click', async function() {
            const file = imageUpload.files[0];
            const t = translations[currentLang];

            if (!file) {
                alert(t.alert_message);
                return;
            }

            // Show loading state
            const analyzeText = document.getElementById('analyzeText');
            analyzeText.innerHTML = '<span class="loading"></span> ' + t.analyzing_message;
            analyzeBtn.disabled = true;

            // Simulate API call delay
            setTimeout(() => {
                // Mock results - replace with actual API response
                const mockResults = [
                    { object: 'Plastic Bottle', instructions: 'Remove cap and label. Rinse bottle. Place in plastic recycling bin.', type: 'anorganik' },
                    { object: 'Glass Bottle', instructions: 'Remove labels. Rinse thoroughly. Place in glass recycling bin.', type: 'kaca' },
                    { object: 'Cardboard Box', instructions: 'Flatten box. Remove any tape or staples. Place in paper recycling bin.', type: 'organik' },
                    { object: 'Aluminum Can', instructions: 'Rinse can. Remove any remaining liquid. Place in metal recycling bin.', type: 'anorganik' }
                ];

                const randomResult = mockResults[Math.floor(Math.random() * mockResults.length)];

                objectNameDisplay.textContent = randomResult.object;
                instructionsDisplay.textContent = randomResult.instructions;

                // Show results section
                document.getElementById('result').style.display = 'block';
                
                // Start mini-game
                startGame(randomResult.type);

                // Reset button state
                analyzeText.textContent = t.analyzeText;
                analyzeBtn.disabled = false;

                // Scroll to results
                document.getElementById('result').scrollIntoView({ behavior: 'smooth' });
            }, 2000);
        });

        // Mini-game functionality
        function startGame(itemType) {
            const gameSection = document.getElementById('minigame-wrapper');
            const itemContainer = document.getElementById('item-container');
            
            gameSection.style.display = 'block';
            
            // Create draggable item
            const item = document.createElement('div');
            item.className = 'draggable-item';
            item.draggable = true;
            item.textContent = getItemIcon(itemType);
            item.dataset.type = itemType;
            
            // Clear previous items
            itemContainer.innerHTML = '';
            itemContainer.appendChild(item);
            
            // Add drag event listeners
            item.addEventListener('dragstart', handleDragStart);
            item.addEventListener('dragend', handleDragEnd);
            
            // Add drop zone listeners
            const dropZones = document.querySelectorAll('.drop-zone');
            dropZones.forEach(zone => {
                zone.addEventListener('dragover', handleDragOver);
                zone.addEventListener('drop', handleDrop);
                zone.addEventListener('dragenter', handleDragEnter);
                zone.addEventListener('dragleave', handleDragLeave);
            });

            // Scroll to game
            gameSection.scrollIntoView({ behavior: 'smooth' });
        }

        function getItemIcon(type) {
            const icons = {
                'anorganik': 'ü•§',
                'organik': 'üì¶',
                'kaca': 'üçæ'
            };
            return icons[type] || 'üóëÔ∏è';
        }

        function handleDragStart(e) {
            draggedItem = this;
            this.style.opacity = '0.5';
            this.style.transform = 'rotate(5deg)';
        }

        function handleDragEnd(e) {
            this.style.opacity = '';
            this.style.transform = '';
        }

        function handleDragOver(e) {
            e.preventDefault();
        }

        function handleDragEnter(e) {
            e.preventDefault();
            this.classList.add('drag-over');
        }

        function handleDragLeave(e) {
            this.classList.remove('drag-over');
        }

        function handleDrop(e) {
            e.preventDefault();
            this.classList.remove('drag-over');
            
            if (draggedItem) {
                const itemType = draggedItem.dataset.type;
                const zoneType = this.id.replace('-zone', '');
                
                if (itemType === zoneType) {
                    // Correct drop
                    showSuccessPopup();
                    draggedItem.style.transform = 'scale(0)';
                    setTimeout(() => {
                        document.getElementById('item-container').innerHTML = '<div style="color: #4CAF50; font-size: 2rem;"><i class="fas fa-check-circle"></i> Correct!</div>';
                    }, 300);
                } else {
                    // Incorrect drop
                    draggedItem.style.animation = 'shake 0.5s ease-in-out';
                    setTimeout(() => {
                        draggedItem.style.animation = '';
                    }, 500);
                }
            }
        }

        function showSuccessPopup() {
            const popup = document.getElementById('success-popup');
            popup.style.display = 'flex';
            
            // Auto close after 3 seconds
            setTimeout(() => {
                popup.style.display = 'none';
            }, 3000);
        }

        // Close popup functionality
        document.querySelector('.close-btn').addEventListener('click', function() {
            document.getElementById('success-popup').style.display = 'none';
        });

        // Smooth scrolling function
        function scrollToSection(sectionId) {
            document.getElementById(sectionId).scrollIntoView({ 
                behavior: 'smooth',
                block: 'start'
            });
        }

        // Navbar scroll effect
        window.addEventListener('scroll', function() {
            const navbar = document.querySelector('.navbar');
            if (window.scrollY > 100) {
                navbar.style.background = 'rgba(20, 50, 30, 0.98)';
                navbar.style.backdropFilter = 'blur(15px)';
            } else {
                navbar.style.background = 'rgba(20, 50, 30, 0.95)';
                navbar.style.backdropFilter = 'blur(10px)';
            }
        });

        // Add pixel shake animation
        const pixelShakeKeyframes = `
        @keyframes pixelShake {
            0%, 100% { transform: translateX(0px); }
            10% { transform: translateX(-8px) rotate(-2deg); }
            20% { transform: translateX(8px) rotate(2deg); }
            30% { transform: translateX(-6px) rotate(-1deg); }
            40% { transform: translateX(6px) rotate(1deg); }
            50% { transform: translateX(-4px) rotate(-1deg); }
            60% { transform: translateX(4px) rotate(1deg); }
            70% { transform: translateX(-2px); }
            80% { transform: translateX(2px); }
            90% { transform: translateX(-1px); }
        }`;
        
        const style = document.createElement('style');
        style.textContent = pixelShakeKeyframes;
        document.head.appendChild(style);

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            loadTranslations(currentLang);
            createBackgroundMusic();
        });

        // Drag and drop for upload area
        const uploadArea = document.querySelector('.upload-area');
        
        uploadArea.addEventListener('dragover', function(e) {
            e.preventDefault();
            this.style.borderColor = '#45a049';
            this.style.backgroundColor = 'rgba(76, 175, 80, 0.1)';
        });

        uploadArea.addEventListener('dragleave', function(e) {
            e.preventDefault();
            this.style.borderColor = '#4CAF50';
            this.style.backgroundColor = 'linear-gradient(135deg, rgba(76, 175, 80, 0.05), rgba(76, 175, 80, 0.1))';
        });

        uploadArea.addEventListener('drop', function(e) {
            e.preventDefault();
            this.style.borderColor = '#4CAF50';
            this.style.backgroundColor = 'linear-gradient(135deg, rgba(76, 175, 80, 0.05), rgba(76, 175, 80, 0.1))';
            
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                imageUpload.files = files;
                const event = new Event('change', { bubbles: true });
                imageUpload.dispatchEvent(event);
            }
        });
    </script>
</body>
</html>